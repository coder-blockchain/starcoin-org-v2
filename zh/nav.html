<div class="visible-lg-block">
    <div class="header_top"></div>
    <div class="top scrollTop-nav">
        <div class="container">
            <div class="logo"><img src="img/logo.png" /></div>
            <div class="nav navClick">
            </div>
            <div class="language p-language"><span language="zh-CN">中文</span>｜<span language="en">English</span></div>
            <!-- <select id="language">
                <option value="zh-CN">中文简体</option>
                <option value="en">English</option>
            </select> -->
        </div>
    </div>
</div>
<!-- 手机端导航 -->
<div class="visible-xs visible-sm visible-md" style="display: block;">
    <div class="header_top m_header_top"></div>
    <div class="top m_top scrollTop-nav">
        <div class="container m_container">
            <div class="m_logo"><img src="img/logo.png" /></div>
            <div class="m_nav m_nav_tap">
                <img src="img/m_nav_more.png"/>
            </div>
        </div>
    </div>
    <div class="m_nav_model">
        <div class="nav navClick m_nav_navigation">
        </div>
        <div class="m-language">
            <div language="zh-CN" class="item">
                中文
                <div class="line"></div>
            </div>
            <div language="en" class="item">English</div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<script>
    $(document).ready(function () {
        let url = window.location.href;
        let urlArr = url.split('?');
        let appU = urlArr[0].split('/');
        let getUrl = appU[appU.length - 1]
        let nav_data = [
            {
                name: 'Overiew',
                i18nName: 'navOveriew',
                url: 'index.html'
            },
            {
                name: 'Learn',
                url: '',
                i18nName: 'navLearn',
                childen: [
                    {
                        name: '增强的中本聪共识协议',
                        i18nName: 'navLearnXieyi',
                        url: 'term_xieyi.html'
                    },
                    {
                        name: '状态存储',
                        i18nName: 'navLearnStorage',
                        url: 'term_storage.html'
                    },
                    {
                        name: '治理体系',
                        i18nName: 'navLearnTixi',
                        url: 'term_tixi.html'
                    },
                    {
                        name: 'Move,虚拟机和标准库',
                        i18nName: 'navLearnBzk',
                        url: 'term_bzk.html'
                    },
                    {
                        name: '安全的区块链',
                        i18nName: 'navLearnSecurity',
                        url: 'term_security.html'
                    },
                    {
                        name: '分层网络',
                        i18nName: 'navLearnNetwork',
                        url: 'term_network.html'
                    }
                ]
            },
            {
                name: 'News',
                i18nName: 'navNews',
                url: 'news.html'
            },
            {
                name: 'Developer',
                i18nName: 'navDeveloper',
                url: 'developer.html'
            },
            {
                name: 'About us',
                i18nName: 'navAbout',
                url: 'about_us.html'
            },
        ]
        var str = ''
        for (var i = 0; i < nav_data.length; i++) {
            let menuDom = ''
            let nav_childen = ''
            let leveClass = ""
            let navSelect = false
            if (nav_data[i].name === 'Learn') {
                for (var k = 0; k < nav_data[i].childen.length; k++) {
                    let isSelect = false
                    if (nav_data[i].childen[k].url === getUrl) {
                        isSelect = true
                        navSelect = true
                    } else {
                        isSelect = false
                    }
                    menuDom += `<div href="${nav_data[i].childen[k].url}" class="li ${isSelect ? 'active' : ''}"><a class="i18n" name="${nav_data[i].childen[k].i18nName}" href="javascript:void(0)">${nav_data[i].childen[k].name}</a></div>`
                }
                leveClass = 'allSelect';
                nav_childen = `<div class="more_nav">
                        <div class="box">
                            ${menuDom}
                        </div>
                    </div>`
            }
            if (nav_data[i].url) {
                str = `<div href="${nav_data[i].url}" class='item ${leveClass} ${nav_data[i].url === getUrl || getUrl === ''&& nav_data[i].url === 'index.html' || navSelect ? 'select' : ''}'><a class="i18n" name="${nav_data[i].i18nName}"  href="javascript:void(0)">${nav_data[i].name}</a></div>`
            } else  {
                str = `<div class='item ${leveClass} ${nav_data[i].url === getUrl && getUrl  || navSelect ? 'select' : ''}'><span class="i18n" name="${nav_data[i].i18nName}">${nav_data[i].name}</span></div>`
            }

            $(".navClick").append(str)
            $(".allSelect").append(nav_childen)
        }
        $(".navClick .item").click(function(){
            if($(this).attr("href")){
                window.open($(this).attr("href"),"_self")
            }
            
        })
        $(".more_nav .box .li").click(function(){
            if($(this).attr("href")){
                window.open($(this).attr("href"),"_self")
            }
            
        })
        $(".m_nav_navigation").find(".allSelect").click(function(){
            if($(this).attr("class").indexOf("m_tab_select") > -1){
                console.log($(this))
                $(this).removeClass("m_tab_select")

            }else{
                $(this).addClass("m_tab_select")
            }
            
            
        })
        
        $(".m_nav_tap").click(function(){
            if($(this).find("img").attr("src") == 'img/m_nav_more.png'){
                $(this).find("img").attr("src","img/m_nav_close.png")
                $(".m_nav_model").show()
                $(".m_nav_model").animate({height:"100%"});
                $(".scrollTop-nav").addClass("home-nav");
            }else{
                $(this).find("img").attr("src","img/m_nav_more.png")
                $(".scrollTop-nav").removeClass("home-nav");
                $(".m_nav_model").animate({height:"0%"});
                $(".m_nav_model").hide()
            }
           
            // $(".m_nav_model").show()
        })
    });
</script>